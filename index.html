<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="theme-color" content="#0b1b1f" />
  <title>BotW Armor Upgrades</title>
  <link rel="manifest" href="manifest.json" />
  <link rel="icon" href="icons/icon-192.png" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <div class="sigil" aria-hidden="true"></div>
      <div>
        <div class="title">Armor Upgrades</div>
        <div class="subtitle">Breath of the Wild Â· materials + progress</div>
      </div>
    </div>
    <div class="top-actions">
      <button id="btnImport" class="ghost">Import</button>
      <button id="btnExport" class="ghost">Export</button>
      <button id="btnReset" class="ghost danger">Reset</button>
    </div>
  </header>

  <nav class="tabs" role="tablist" aria-label="Sections">
    <button class="tab active" data-tab="summary" role="tab" aria-selected="true">Summary</button>
    <button class="tab" data-tab="armor" role="tab" aria-selected="false">Armor</button>
    <button class="tab" data-tab="materials" role="tab" aria-selected="false">Materials</button>
    <button class="tab" data-tab="about" role="tab" aria-selected="false">About</button>
  </nav>

  <main class="container">
    <section id="view-summary" class="view active" data-view="summary"></section>
    <section id="view-armor" class="view" data-view="armor"></section>
    <section id="view-materials" class="view" data-view="materials"></section>
    <section id="view-about" class="view" data-view="about"></section>
  </main>

  <dialog id="resetDialog" class="modal" aria-labelledby="resetTitle">
    <div class="modal-card">
      <h3 id="resetTitle">Reset progress?</h3>
      <p class="muted" style="margin:0">This will clear saved progress from this device.</p>
      <div class="tiny muted reset-hint">Consider exporting a backup first.</div>
      <div class="modal-actions">
        <button id="resetCancel" type="button" class="ghost" data-focus-default>Cancel</button>
        <button id="resetConfirm" type="button" class="ghost danger">Reset</button>
      </div>
    </div>
  </dialog>
  <dialog id="importDialog" class="modal" aria-labelledby="importTitle">
    <div class="modal-card">
      <h3 id="importTitle">Import backup</h3>
      <p class="muted" style="margin:0">Restore a backup JSON that was exported from this app.</p>
      <div class="tiny muted reset-hint">Imports replace your saved progress on this device. Max file size: 1MB.</div>
      <div id="importDropzone" class="dropzone" role="button" tabindex="0" aria-label="Choose backup file to import">
        <div>
          <div class="drop-title">Drag & drop backup JSON</div>
          <div class="drop-sub">or click to browse for the exported file</div>
        </div>
        <div class="drop-action" aria-hidden="true">Browse</div>
        <input id="importFile" type="file" accept="application/json" />
      </div>
      <ul class="tiny muted import-notes">
        <li>Only backups created via the Export button are accepted.</li>
        <li>Imported data overwrites current armor levels and inventory totals.</li>
      </ul>
      <div class="modal-actions">
        <button id="importCancel" type="button" class="ghost" data-focus-default>Cancel</button>
      </div>
    </div>
  </dialog>
  <dialog id="mapDialog" class="modal" aria-labelledby="mapTitle">
    <div class="modal-card map-card">
      <div class="map-card-head">
        <div>
          <div id="mapMeta" class="tiny muted"></div>
          <h3 id="mapTitle">Locations</h3>
        </div>
        <button id="mapClose" type="button" class="ghost" data-focus-default>Close</button>
      </div>
      <p id="mapDescription" class="muted" style="margin: 6px 0 4px"></p>
      <div id="mapNotes" class="tiny muted" style="margin: 0 0 8px"></div>
      <div class="map-wrapper" role="presentation">
        <img id="mapImage" src="assets/hyrule-map.jpg" alt="Hyrule world map" loading="lazy" />
        <div id="mapMarkers" class="map-markers" aria-hidden="true"></div>
      </div>
      <div id="mapFallback" class="tiny muted" style="margin-top:8px; display:none"></div>
      <ul id="mapCoordinateList" class="map-coordinates"></ul>
    </div>
  </dialog>
  <!-- toast -->
  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <script src="app.js" type="module"></script>
</body>
</html>
